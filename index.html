<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Las notas</title>
        <link href="estilo.css" rel="stylesheet" />
    </head>
    <body>
        <h1>Hola mundo!</h1>

        <table>
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Nota</th>
                    <th>Emoji</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <p>La nota promedio es de <span id="promedio"></span></p>

        <script src="script.js"></script>

        <script>
            const filas = document.querySelector("tbody");
            const texto = document.querySelector("#promedio");
            var total = 0;
            function carita(nota) {
                var emoji;
                if (nota > 5.9) {
                    emoji = "üòÉ";
                } else if (nota == 5.9) {
                    emoji = "üòê";
                } else if (nota <= 4) {
                    emoji = "üò≠";
                } else {
                    emoji = "üôÅ";
                }
                return emoji;
                // if (nota > 5.9) {  return "üòÉ" } else
            }

            async function notas() {
                let consulta = await fetch("https://raw.githubusercontent.com/profesorfaco/opr/refs/heads/main/clase-08/notas.json");
                let data = await consulta.json();
                console.log(data);
                data.forEach((d) => {
                    filas.innerHTML += `<tr> <td>${d.nombre}</td><td>${d.nota}</td> <td>${carita(d.nota)}</td> </tr>`;
                    total = total + d.nota;
                });
                texto.innerHTML = (total / 12).toFixed(1);
                //              Math.round(total/12);
                //console.log(total/12);
                //document.getElementById("promedio").innerHTML = (toal/12).tofixed(2);
            }

            notas().catch((error) => console.error(error));
        </script>
    </body>
</html>
